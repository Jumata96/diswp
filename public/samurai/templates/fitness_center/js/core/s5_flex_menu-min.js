function s5_create_separator_class(){if(document.getElementById("subMenusContainer"))for(var t=document.getElementById("subMenusContainer").getElementsByTagName("A"),e=0;e<t.length;e++)"javascript:;"==t[e].href&&"S5_submenu_item"==t[e].parentNode.className&&(t[e].parentNode.parentNode.className=t[e].parentNode.parentNode.className+" subSepBtn")}var Eventx={addEvent:function(t,e,i){document.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)},onResizend:function(t){var e="normal",i=null,n=function(){i&&clearTimeout(i),i=setTimeout(function(){t&&t(),e="normal"},500)};this.addEvent(window,"resize",function(){e="resizing",n()})},onResizestart:function(t){var e=!1;this.onResizend(function(){e=!1}),this.addEvent(window,"resize",function(){e||(t&&t(),e=!0)})}};Array.prototype.every=function(t,e){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&!t.call(e,this[i],i,this))return!1;return!0},Array.prototype.filter=function(t,e){for(var i,n=[],s=0,o=this.length>>>0;o>s;s++)s in this&&(i=this[s],t.call(e,i,s,this)&&n.push(i));return n},Array.prototype.indexOf=function(t,e){for(var i=this.length>>>0,n=0>e?Math.max(0,i+e):e||0;i>n;n++)if(this[n]===t)return n;return-1},Array.prototype.map=function(t,e){for(var i=this.length>>>0,n=Array(i),s=0;i>s;s++)s in this&&(n[s]=t.call(e,this[s],s,this));return n},Array.prototype.some=function(t,e){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&t.call(e,this[i],i,this))return!0;return!1},Array.prototype.clean=function(){return this.filter(function(t){return null!=t})},Array.prototype.invoke=function(t){var e=Array.slice(arguments,1);return this.map(function(i){return i[t].apply(i,e)})},Array.prototype.associate=function(t){for(var e={},i=Math.min(this.length,t.length),n=0;i>n;n++)e[t[n]]=this[n];return e},Array.prototype.link=function(t){for(var e={},i=0,n=this.length;n>i;i++)for(var s in t)if(t[s](this[i])){e[s]=this[i],delete t[s];break}return e},Array.prototype.contains=function(t,e){return-1!=this.indexOf(t,e)},Array.prototype.append=function(t){return this.push.apply(this,t),this},Array.prototype.getLast=function(){return this.length?this[this.length-1]:null},Array.prototype.getRandom=function(){return this.length?this[Number.random(0,this.length-1)]:null},Array.prototype.include=function(t){return this.contains(t)||this.push(t),this},Array.prototype.combine=function(t){for(var e=0,i=t.length;i>e;e++)this.include(t[e]);return this},Array.prototype.erase=function(t){for(var e=this.length;e--;)this[e]===t&&this.splice(e,1);return this},Array.prototype.empty=function(){return this.length=0,this},Array.prototype.flatten=function(){for(var t=[],e=0,i=this.length;i>e;e++){var n=typeOf(this[e]);"null"!=n&&(t=t.concat("array"==n||"collection"==n||"arguments"==n||instanceOf(this[e],Array)?Array.flatten(this[e]):this[e]))}return t},Array.prototype.pick=function(){for(var t=0,e=this.length;e>t;t++)if(null!=this[t])return this[t];return null},Array.prototype.hexToRgb=function(t){if(3!=this.length)return null;var e=this.map(function(t){return 1==t.length&&(t+=t),t.toInt(16)});return t?e:"rgb("+e+")"},Array.prototype.rgbToHex=function(t){if(this.length<3)return null;if(4==this.length&&0==this[3]&&!t)return"transparent";for(var e=[],i=0;3>i;i++){var n=(this[i]-0).toString(16);e.push(1==n.length?"0"+n:n)}return t?e:"#"+e.join("")},void 0==Function.prototype.bind&&(Function.prototype.bind=function(t){var e=this,i=arguments.length>1?Array.slice(arguments,1):null,n=function(){},s=function(){var o=t,a=arguments.length;this instanceof s&&(n.prototype=e.prototype,o=new n);var h=i||a?e.apply(o,i&&a?i.concat(Array.slice(arguments)):i||arguments):e.call(o);return o==t?h:o};return s}),function(t){t.fn.getLast=function(e){return t(this).children().last()},t.fn.getPrevious=t.fn.prev,t.fn.getFirst=function(e){return t(this).children().first()},t.fn.getNext=t.fn.next,t.fn.fireEvents=function(e){t(this).each(function(i,n){t(n).trigger(e)})},MenuMatic=window.MenuMatic=function(t){this.options={id:"s5_nav",subMenusContainerId:"subMenusContainer",tabletWidth:800,effect:"slide & fade",duration:600,physics:"easeOutQuad",hideDelay:1e3,displayDelay:0,stretchMainMenu:!1,matchWidthMode:!1,orientation:"horizontal",direction:{x:"right",y:"down"},olddirection:{x:"right",y:"down"},tweakInitial:{x:0,y:0},tweakSubsequent:{x:0,y:0},center:!1,opacity:95,mmbFocusedClassName:null,mmbClassName:null,killDivider:null,fullWidth:null,fixHasLayoutBug:!1,onHideAllSubMenusNow_begin:function(){},onHideAllSubMenusNow_complete:function(){},onInit_begin:function(){},onInit_complete:function(){}},this.hideAllMenusTimeout=null,this.S5DisplayMenusTimeout=null,this.allSubMenus=[],this.subMenuZindex=1,this.initialize(t),this.stretch(),this.killDivider(),this.center()},MenuMatic.prototype.initialize=function(i){this.options=t.extend(this.options,i),this.options.olddirection.x=this.options.direction.x,this.options.olddirection.y=this.options.direction.y,this.options.opacity>99&&(this.options.opacity=99.9),this.options.opacity=this.options.opacity/100,this.options.direction.x=this.options.direction.x.toLowerCase(),this.options.direction.y=this.options.direction.y.toLowerCase(),"right"===this.options.direction.x?this.options.direction.xInverse="left":"left"===this.options.direction.x&&(this.options.direction.xInverse="right"),"up"===this.options.direction.y?this.options.direction.yInverse="down":"down"===this.options.direction.y&&(this.options.direction.yInverse="up");var n=t("#"+this.options.id+" li, span.grouped_sub_parent_item"),s=new Array;t(n).each(function(e,i){if(t(i).data("parentLinks",t(i).parents("li")),t(i).children("ul")&&t(i).children("ul").length>=1){var n=t(i).children("ul");s[e]=""}else var n=null;t(i).data("childMenu",n),n&&n.data("parentMenu",t(i)),theSubMenuType="subsequent",t(t(i).parents("ul")||t(i).parents("ol")).attr("id")===this.options.id&&(theSubMenuType="initial"),t(i).data("subMenuType",theSubMenuType),"initial"===theSubMenuType&&t(t(i).children("ul")||t(i).children("ol"))?t(i).addClass("mainMenuParentBtn"):t(t(i).children("ul")||t(i).children("ol"))&&t(i).addClass("subMenuParentBtn")}.bind(this));var o=t("<div></div>").attr("id",this.options.subMenusContainerId).appendTo(t("body")),a=new Array;t("#"+this.options.id+" ul").each(function(e,i){if(0==t(i).parents("div[class*=moduletable]").length){if(t(i).parents("span.grouped_sub_parent_item").size()>0)var s=n.index(t(i).parents("span.grouped_sub_parent_item"));else var s=n.index(t(i).parent("li"));if(0==a.contains(s)){if(a.include(s),"initial"==t(i).parent().data("subMenuType"))var h=t("<div></div>").addClass("s5_sub_wrap").attr("id","ul_child_"+s).appendTo(o);else var h=t("<div></div>").addClass("s5_sub_wrap_lower").attr("id","ul_child_"+s).appendTo(o);var u=t("<ul></ul>").appendTo(h);t("<li></li>").attr("id","li_child_"+s).appendTo(u).append(i)}else t("#li_child_"+s)&&t("#li_child_"+s).append(i)}}),t("a",o).attr("tabindex","-1"),n.each(function(i,n){if(t(n).data("childMenu")){t(n).data("childMenu",t("#ul_child_"+i)),t("#ul_child_"+i).data("parentMenu",t(n)),this.allSubMenus.include(t(n).data("childMenu"));var s=[];t(n).data("parentLinks").each(function(e,i){t(i).data("childMenu")?s.include(t(i).data("childMenu")[0]):s.include(t(i).parentsUntil("li").parentsUntil("div").parent()[0])}),t(n).data("parentSubMenus",t(s)),delete s;var o=new e;jQuery(n).data("subMenuInstance",o),o.initialize(this.options,this,t(n),i)}}.bind(this));var h=t("#"+this.options.id+" li").filter(function(e,i){return!t(i).data("childMenu")});h.each(function(e,i){t(i).bind("mouseenter",function(e){e.preventDefault(),this.hideAllSubMenusNow(),this.options.mmbClassName&&this.options.mmbFocusedClassName&&(t(i).data("btnMorph")?t(i).data("btnMorph"):t(i).switchClass(this.options.mmbFocusedClassName,"",this.options.duration/2,this.options.physics))}.bind(this)),t(i).bind("focus",function(e){e.preventDefault(),this.hideAllSubMenusNow(),this.options.mmbClassName&&this.options.mmbFocusedClassName&&(t(i).data("btnMorph")?t(i).data("btnMorph"):t(i).switchClass(this.options.mmbFocusedClassName,"",this.options.duration/2,this.options.physics))}.bind(this)),t(i).bind("mouseleave",function(e){e.preventDefault(),this.options.mmbClassName&&this.options.mmbFocusedClassName&&(t(i).data("btnMorph")?t(i).data("btnMorph"):t(i).switchClass(this.options.mmbClassName,"",this.options.duration/2,this.options.physics))}.bind(this)),t(i).bind("blur",function(e){e.preventDefault(),this.options.mmbClassName&&this.options.mmbFocusedClassName&&(t(i).data("btnMorph")?t(i).data("btnMorph"):t(i).switchClass(this.options.mmbClassName,"",this.options.duration/2,this.options.physics))}.bind(this)),t(i).bind("keydown",function(e){new Event(e);("up"===e.key||"down"===e.key||"left"===e.key||"right"===e.key)&&e.stop(),"left"===e.key&&"horizontal"===this.options.orientation||"up"===e.key&&"vertical"===this.options.orientation?t(i).parents("li").getPrevious("li")?t(i).parents("li").getPrevious("li").getFirst("a").focus():t(i).parents("li").parent().getLast("li").getFirst("a").focus():("right"===e.key&&"horizontal"===this.options.orientation||"down"===e.key&&"vertical"===this.options.orientation)&&(t(i).parents("li").getNext("li")?t(i).parents("li").getNext("li").getFirst("a").focus():t(i).parents("li").parent().getFirst("li").getFirst("a").focus())}.bind(this))}.bind(this)),this.onResizeWindow(),Eventx.onResizestart(this.hideAllSubMenusNow.bind(this)),Eventx.onResizend(this.onResizeWindow.bind(this))},MenuMatic.prototype.getWidth=function(){return this.options.fullWidth&&"function"==typeof this.options.fullWidth?this.options.fullWidth():"auto"},MenuMatic.prototype.onResizeWindow=function(){var e=this;if(t(window).width()>=this.options.tabletWidth){var i=window.needTablet=0;if(window.s5menuTablet)var n=window.needRevert=1;else var n=window.needRevert=0}else if(t(window).width()<this.options.tabletWidth&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)){var n=window.needRevert=0;if(window.s5menuTablet)var i=window.needTablet=0;else var i=window.needTablet=1}if(i||n){var s=jQuery(".mainMenuParentBtn,.subMenuParentBtn,.mainParentBtn,.subParentBtn");s.each(function(s,o){if(!t(o).data("childMenu"))return i&&(t(o).unbind("mouseenter").bind("mouseenter",function(){jQuery(".mainParentBtnFocused").removeClass("mainParentBtnFocused"),jQuery(this).addClass("mainParentBtnFocused")}),t(o).unbind("mouseleave").bind("mouseleave",function(){jQuery(this).removeClass("mainParentBtnFocused")})),void(n&&t(o).unbind("mouseenter").bind("mouseenter",e.hideAllSubMenusNow.bind(e)));var a=t(o).data("subMenuInstance");if(i){window.s5menuTablet=1;var h=function(e){e.preventDefault(),jQuery(this).css({background:""}),"initial"==a.subMenuType?jQuery(this).addClass("mainMenuParentBtnFocused"):jQuery(this).addClass("subMenuParentBtn").addClass("subMenuParentBtnFocused"),"initial"===a.subMenuType&&a.options.mmbClassName&&a.options.mmbFocusedClassName&&(t(this).data("btnMorph")?t(this).data("btnMorph"):t(this).switchClass(a.options.mmbFocusedClassName,"",a.options.duration/2,a.options.physics))},u=function(e){return t(this).data("menuOpened")||("initial"==a.subMenuType?jQuery(this).removeClass("mainMenuParentBtnFocused").removeClass("mainMenuParentBtnTablet"):jQuery(this).removeClass("subMenuParentBtnFocused")),!1},d=function(e){if("SPAN"==e.target.nodeName&&e.target.hasAttribute("onclick")&&-1==e.target.getAttribute("onclick").indexOf("javascript:;"))return e.target.click(),!1;if("initial"==a.subMenuType?jQuery(this).removeClass("mainMenuParentBtnTablet"):jQuery(this).find(".S5_submenu_item").removeClass("S5_submenu_itemTablet"),t(this).data("menuOpened")){a.hideSubMenu(!0);var i=t(this).data("childMenu").find("li").filter(function(e,i){return t(i).data("childMenu")&&t(i).data("menuOpened")});return i.each(function(e,i){t(i).data("subMenuInstance").hideSubMenu();var n=t(i).data("childMenu").find("li").filter(function(e,i){return t(i).data("childMenu")&&t(i).data("menuOpened")});n.each(function(e,i){t(i).data("subMenuInstance").hideSubMenu()})}),t(this).data("menuOpened",!1),"initial"==a.subMenuType?jQuery(this).removeClass("mainMenuParentBtnFocused").addClass("mainMenuParentBtnTablet"):jQuery(this).find(".S5_submenu_item").addClass("S5_submenu_itemTablet"),!1}t(this).data("menuOpened",!0),e.preventDefault(),a.cancellHideAllSubMenus(),a.hideOtherSubMenus(),setTimeout(function(){a.showSubMenu()},10),"initial"===a.subMenuType&&a.options.mmbClassName&&a.options.mmbFocusedClassName&&(t(this).data("btnMorph")?t(this).data("btnMorph"):t(this).switchClass(a.options.mmbFocusedClassName,"",a.options.duration/2,a.options.physics))}}if(n){window.s5menuTablet=0;var h=t(o).data("mouseenterH"),u=t(o).data("mouseleaveH"),d=function(t){t.target.click()}}t(o).unbind("mouseenter").bind("mouseenter",h).unbind("mouseleave").bind("mouseleave",u).unbind("click").bind("click",d)}),jQuery("li[id*=li_child_] ul").each(function(e,s){var o=t(s).data("parentMenu");if(o){var a=o.data("subMenuInstance");if(i||n){if(i)var h=function(){"initial"==a.subMenuType?o.addClass("mainMenuParentBtnFocused"):o.addClass("subMenuParentBtnFocused")};if(n)var h=o.data("mouseenterH");t(s).bind("mouseenter",h)}}t(s).children("li").each(function(e,s){if(t(s).data("childMenu")){var o=t(s).data("subMenuInstance");if(i||n){if(i)var a=function(){0==t(s).data("menuOpened")&&("initial"==o.subMenuType?t(this).removeClass("mainMenuParentBtnFocused"):t(this).removeClass("subMenuParentBtnFocused"))},h=function(){"initial"==o.subMenuType?t(this).addClass("mainMenuParentBtnFocused"):t(this).addClass("subMenuParentBtnFocused").find(".S5_submenu_itemTablet").removeClass("S5_submenu_itemTablet")};if(n)var a=t(s).data("mouseleaveH"),h=t(s).data("mouseenterH");t(s).unbind("mouseleave").bind("mouseleave",a).unbind("mouseenter").bind("mouseenter",h)}}else{var a=t(s).data("mouseleaveH"),h=t(s).data("mouseenterH");n&&t(s).unbind("mouseleave").bind("mouseleave",a).unbind("mouseenter").bind("mouseenter",h),i&&t(s).unbind("mouseleave").unbind("mouseenter").bind("click",h)}})})}},MenuMatic.prototype.center=function(){this.options.center&&t("#"+this.options.id).css({left:"50%",marginLeft:-(t("#"+this.options.id).width()/2)})},MenuMatic.prototype.stretch=function(){if(this.options.stretchMainMenu&&"horizontal"===this.options.orientation){var e=parseFloat(t("#"+this.options.id).width()),i=0,n=t("#"+this.options.id+" li");if(n.css({paddingLeft:0,paddingRight:0}),n.each(function(e,n){i+=t(n).width()}.bind(this)),i>e)return;var s=(e-i)/n.length;n.each(function(e,i){t(i).css("width",t(i).width()+s)}.bind(this)),n.getLast().css("width",n.getLast().width()-1)}},MenuMatic.prototype.killDivider=function(){this.options.killDivider&&"first"===this.options.killDivider.toLowerCase()?t(t("#"+this.options.id+" li")[0]).css({background:"none"}):this.options.killDivider&&"last"===this.options.killDivider.toLowerCase()&&t(t("#"+this.options.id+" li").getLast()).css({background:"none"})},MenuMatic.prototype.hideAllSubMenusNow=function(){clearTimeout(this.hideAllMenusTimeout),t(this.allSubMenus).fireEvents("hidex")};var e=function(){this.options={onSubMenuInit_begin:function(t){},onSubMenuInit_complete:function(t){},onMatchWidth_begin:function(t){},onMatchWidth_complete:function(t){},onHideSubMenu_begin:function(t){},onHideSubMenu_complete:function(t){},onHideOtherSubMenus_begin:function(t){},onHideOtherSubMenus_complete:function(t){},onHideAllSubMenus_begin:function(t){},onHideAllSubMenus_complete:function(t){},onPositionSubMenu_begin:function(t){},onPositionSubMenu_complete:function(t){},onShowSubMenu_begin:function(t){},onShowSubMenu_complete:function(t){}},this.root=null,this.btn=null,this.hidden=!0,this.myEffect=null};e.prototype.matchWidth=function(){if(!this.widthMatched&&this.options.matchWidthMode&&"subsequent"!==this.subMenuType){if(0==this.btn.is("li"))var e=this.btn.parentsUntil("li").eq(0).outerWidth();else var e=this.btn.outerWidth();var i=e;t("li",t(this.childMenu)).each(function(e,n){var s=parseFloat(t(this.childMenu).getFirst().getStyle("borderLeftWidth"))+parseFloat(t(this.childMenu).getFirst().getStyle("borderRightWidth")),o=parseFloat(t(n).getStyle("paddingLeft"))+parseFloat(t(n).getStyle("paddingRight")),a=s+o;i>t(n).width()&&(t(n).css("width",i-a+1),t(n).css("margin-right",-s))}.bind(this)),this.width=this.childMenu.getFirst().width()+1,this.widthMatched=!0}},e.prototype.hideSubMenu=function(e){"closed"!==this.childMenu.data("status")&&(void 0==e&&("initial"==this.subMenuType?this.options.mmbClassName&&this.options.mmbFocusedClassName?t(this.btn).data("btnMorph")?t(this.btn).data("btnMorph"):this.btn.switchClass(this.options.mmbClassName,"",this.options.duration,this.options.physics,function(){t(this.btn).removeClass("mainMenuParentBtnFocused"),t(this.btn).addClass("mainMenuParentBtn")}.bind(this)):(t(this.btn).removeClass("mainMenuParentBtnFocused"),t(this.btn).addClass("mainMenuParentBtn")):(t(this.btn).removeClass("subMenuParentBtnFocused"),t(this.btn).addClass("subMenuParentBtn"))),this.options.effect&&"slide"===this.options.effect.toLowerCase()?"initial"==this.subMenuType&&"horizontal"===this.options.orientation&&"down"===this.options.direction.y?t(this.childMenu).getFirst().animate({marginTop:-this.height},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.childMenu.css({left:0,display:"none",zIndex:-100})}.bind(this)}).bind(this):"initial"==this.subMenuType&&"horizontal"===this.options.orientation&&"up"===this.options.direction.y?t(this.childMenu).getFirst().animate({marginTop:this.height},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.childMenu.css({left:0,display:"none",zIndex:-100})}.bind(this)}).bind(this):"right"===this.options.direction.x?t(this.childMenu).getFirst().animate({marginLeft:-this.width},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.childMenu.css({left:0,display:"none",zIndex:-100})}.bind(this)}).bind(this):"left"===this.options.direction.x&&t(this.childMenu).getFirst().animate({marginLeft:this.width},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.childMenu.css({left:0,display:"none",zIndex:-100})}.bind(this)}).bind(this):"fade"==this.options.effect?t(this.childMenu).getFirst().animate({opacity:0},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.childMenu.css({left:0,display:"none",zIndex:-100})}.bind(this)}).bind(this):"slide & fade"==this.options.effect?"initial"==this.subMenuType&&"horizontal"===this.options.orientation&&"down"===this.options.direction.y?t(this.childMenu).getFirst().animate({marginTop:-this.height,opacity:0},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.childMenu.css({left:0,display:"none",zIndex:-100})}.bind(this)}).bind(this):"initial"==this.subMenuType&&"horizontal"===this.options.orientation&&"up"===this.options.direction.y?t(this.childMenu).getFirst().animate({marginTop:this.height,opacity:0},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.childMenu.css({left:0,display:"none",zIndex:-100})}.bind(this)}).bind(this):"right"===this.options.direction.x?t(this.childMenu).getFirst().animate({marginLeft:-this.width,opacity:0},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.childMenu.css({left:0,display:"none",zIndex:-100})}.bind(this)}).bind(this):"left"===this.options.direction.x&&t(this.childMenu).getFirst().animate({marginLeft:this.width,opacity:0},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.childMenu.css({left:0,display:"none",zIndex:-100})}.bind(this)}).bind(this):(this.childMenu[0].style.left="0px",this.childMenu[0].style.visiblity="hidden",this.childMenu.css("zIndex",-100)),this.childMenu.data("status","closed"))},e.prototype.hideOtherSubMenus=function(){this.btn.data("otherSubMenus")||this.btn.data("otherSubMenus",t(this.root.allSubMenus.filter(function(t){return-1==this.btn.data("parentSubMenus").index(t)&&t!=this.childMenu}.bind(this)))),this.parentSubMenus.fireEvents("show"),this.btn.data("otherSubMenus").fireEvents("hidex"),this.btn.data("otherSubMenus").each(function(e,i){t(i).data("parentMenu").data("menuOpened",!1)})},e.prototype.hideAllSubMenus=function(){clearTimeout(this.root.hideAllMenusTimeout),this.root.hideAllMenusTimeout=setTimeout(function(){clearTimeout(this.root.hideAllMenusTimeout),t(this.root.allSubMenus).fireEvents("hidex")}.bind(this),this.options.hideDelay)},e.prototype.cancellHideAllSubMenus=function(){clearTimeout(this.root.hideAllMenusTimeout),this.options.direction.x=this.options.olddirection.x},e.prototype.showSubMenu=function(){S5DisplayMenusTimeout=setTimeout(function(){this.S5showSubMenu()}.bind(this),this.options.displayDelay)},e.prototype.S5showSubMenu=function(e){if("open"!==this.childMenu.data("status")){if("initial"==this.subMenuType?(t(this.btn).removeClass("mainMenuParentBtn"),t(this.btn).addClass("mainMenuParentBtnFocused")):(t(this.btn).removeClass("subMenuParentBtn"),t(this.btn).addClass("subMenuParentBtnFocused")),this.root.subMenuZindex++,this.childMenu.css({display:"block",visibility:"hidden",zIndex:this.root.subMenuZindex}),this.height&&this.width||(this.height=this.childMenu.getFirst().outerHeight(),this.width=this.childMenu.getFirst().outerWidth(),("slide"===this.options.effect||"slide & fade"===this.options.effect)&&("initial"==this.subMenuType&&"horizontal"===this.options.orientation?(this.childMenu.getFirst().css("marginTop","0"),"down"===this.options.direction.y?t(this.childMenu).getFirst().css({marginTop:-this.height}):"up"===this.options.direction.y&&t(this.childMenu).getFirst().css({marginTop:this.height})):"left"===this.options.direction.x?t(this.childMenu).getFirst().css({marginLeft:this.width}):t(this.childMenu).getFirst().css({marginLeft:-this.width}))),this.matchWidth(),this.positionSubMenu(),"slide"===this.options.effect)if(this.childMenu.css({display:"block",visibility:"visible"}),"initial"===this.subMenuType&&"horizontal"===this.options.orientation){if(t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top+t(this.btn).outerHeight()-t(window).scrollTop()),document.getElementById("s5_menu_wrap")){var i=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode,n=window.getComputedStyle(i),s=n.getPropertyValue("position"),o=document.getElementById("s5_menu_wrap").parentNode.parentNode,a=window.getComputedStyle(o),h=a.getPropertyValue("position"),u=document.getElementById("s5_menu_wrap").parentNode,d=window.getComputedStyle(u),r=d.getPropertyValue("position"),l=document.getElementById("s5_menu_wrap"),p=window.getComputedStyle(l),c=p.getPropertyValue("position");"s5_wrap"!=document.getElementById("s5_menu_wrap").className&&"s5_wrap_fmfullwidth"!=document.getElementById("s5_menu_wrap").className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.parentNode.className&&"fixed"!=c&&"fixed"!=r&&"fixed"!=h&&"fixed"!=s&&t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top+t(this.btn).outerHeight())}e?t(this.childMenu).getFirst().stop().animate({marginTop:0},{duration:0,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)}):t(this.childMenu).getFirst().stop().animate({marginTop:0},{duration:this.options.duration,queue:!1,easing:this.options.physics,complete:function(){this.showSubMenuComplete()}.bind(this)})}else{if("subsequent"===this.subMenuType&&"horizontal"===this.options.orientation&&(t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top-t(window).scrollTop()),document.getElementById("s5_menu_wrap"))){var i=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode,n=window.getComputedStyle(i),s=n.getPropertyValue("position"),o=document.getElementById("s5_menu_wrap").parentNode.parentNode,a=window.getComputedStyle(o),h=a.getPropertyValue("position"),u=document.getElementById("s5_menu_wrap").parentNode,d=window.getComputedStyle(u),r=d.getPropertyValue("position"),l=document.getElementById("s5_menu_wrap"),p=window.getComputedStyle(l),c=p.getPropertyValue("position");"s5_wrap"!=document.getElementById("s5_menu_wrap").className&&"s5_wrap_fmfullwidth"!=document.getElementById("s5_menu_wrap").className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.parentNode.className&&"fixed"!=c&&"fixed"!=r&&"fixed"!=h&&"fixed"!=s&&t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top)}e?t(this.childMenu).getFirst().stop().animate({marginLeft:0},{duration:0,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)}):t(this.childMenu).getFirst().stop().animate({marginLeft:0},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)})}else if("fade"===this.options.effect){if("initial"===this.subMenuType&&"horizontal"===this.options.orientation&&(t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top+t(this.btn).outerHeight()-t(window).scrollTop()),document.getElementById("s5_menu_wrap"))){var i=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode,n=window.getComputedStyle(i),s=n.getPropertyValue("position"),o=document.getElementById("s5_menu_wrap").parentNode.parentNode,a=window.getComputedStyle(o),h=a.getPropertyValue("position"),u=document.getElementById("s5_menu_wrap").parentNode,d=window.getComputedStyle(u),r=d.getPropertyValue("position"),l=document.getElementById("s5_menu_wrap"),p=window.getComputedStyle(l),c=p.getPropertyValue("position");"s5_wrap"!=document.getElementById("s5_menu_wrap").className&&"s5_wrap_fmfullwidth"!=document.getElementById("s5_menu_wrap").className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.parentNode.className&&"fixed"!=c&&"fixed"!=r&&"fixed"!=h&&"fixed"!=s&&t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top+t(this.btn).outerHeight())}if(this.childMenu.css({display:"block",visibility:"visible"}),e?t(this.childMenu).getFirst().stop().animate({opacity:this.options.opacity},{duration:0,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)}):t(this.childMenu).getFirst().stop().animate({opacity:this.options.opacity},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)}),"subsequent"===this.subMenuType&&"horizontal"===this.options.orientation&&(t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top-t(window).scrollTop()),document.getElementById("s5_menu_wrap"))){var i=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode,n=window.getComputedStyle(i),s=n.getPropertyValue("position"),o=document.getElementById("s5_menu_wrap").parentNode.parentNode,a=window.getComputedStyle(o),h=a.getPropertyValue("position"),u=document.getElementById("s5_menu_wrap").parentNode,d=window.getComputedStyle(u),r=d.getPropertyValue("position"),l=document.getElementById("s5_menu_wrap"),p=window.getComputedStyle(l),c=p.getPropertyValue("position");"s5_wrap"!=document.getElementById("s5_menu_wrap").className&&"s5_wrap_fmfullwidth"!=document.getElementById("s5_menu_wrap").className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.parentNode.className&&"fixed"!=c&&"fixed"!=r&&"fixed"!=h&&"fixed"!=s&&t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top)}}else if("slide & fade"==this.options.effect)if(this.childMenu.css({display:"block",visibility:"visible"}),this.childMenu.getFirst().css({left:0}),"initial"===this.subMenuType&&"horizontal"===this.options.orientation){if(t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top+t(this.btn).outerHeight()-t(window).scrollTop()),document.getElementById("s5_menu_wrap")){var i=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode,n=window.getComputedStyle(i),s=n.getPropertyValue("position"),o=document.getElementById("s5_menu_wrap").parentNode.parentNode,a=window.getComputedStyle(o),h=a.getPropertyValue("position"),u=document.getElementById("s5_menu_wrap").parentNode,d=window.getComputedStyle(u),r=d.getPropertyValue("position"),l=document.getElementById("s5_menu_wrap"),p=window.getComputedStyle(l),c=p.getPropertyValue("position");"s5_wrap"!=document.getElementById("s5_menu_wrap").className&&"s5_wrap_fmfullwidth"!=document.getElementById("s5_menu_wrap").className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.parentNode.className&&"fixed"!=c&&"fixed"!=r&&"fixed"!=h&&"fixed"!=s&&t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top+t(this.btn).outerHeight())}e?t(this.childMenu).getFirst().stop().animate({marginTop:0,opacity:this.options.opacity},{duration:0,queue:!1,easing:this.options.physics,complete:function(){this.showSubMenuComplete()}.bind(this)}):t(this.childMenu).getFirst().stop().animate({marginTop:0,opacity:this.options.opacity},{duration:this.options.duration,queue:!1,easing:this.options.physics,
complete:function(){this.showSubMenuComplete()}.bind(this)})}else{if("subsequent"===this.subMenuType&&"horizontal"===this.options.orientation&&(t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top-t(window).scrollTop()),document.getElementById("s5_menu_wrap"))){var i=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode,n=window.getComputedStyle(i),s=n.getPropertyValue("position"),o=document.getElementById("s5_menu_wrap").parentNode.parentNode,a=window.getComputedStyle(o),h=a.getPropertyValue("position"),u=document.getElementById("s5_menu_wrap").parentNode,d=window.getComputedStyle(u),r=d.getPropertyValue("position"),l=document.getElementById("s5_menu_wrap"),p=window.getComputedStyle(l),c=p.getPropertyValue("position");"s5_wrap"!=document.getElementById("s5_menu_wrap").className&&"s5_wrap_fmfullwidth"!=document.getElementById("s5_menu_wrap").className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.className&&"s5_floating_header"!=document.getElementById("s5_menu_wrap").parentNode.parentNode.parentNode.parentNode.parentNode.className&&"fixed"!=c&&"fixed"!=r&&"fixed"!=h&&"fixed"!=s&&t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top&&t(this.childMenu).css("top",t(this.btn).offset().top)}e?"right"===this.options.direction.x?t(this.childMenu).getFirst().stop().animate({marginLeft:0,opacity:this.options.opacity},{duration:0,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)}):"left"===this.options.direction.x&&t(this.childMenu).getFirst().stop().animate({marginLeft:0,opacity:this.options.opacity},{duration:0,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)}):"right"===this.options.direction.x?(t(this.childMenu).getFirst().css("marginLeft",-this.width),t(this.childMenu).getFirst().stop().animate({marginLeft:0,opacity:this.options.opacity},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)})):"left"===this.options.direction.x&&t(this.childMenu).getFirst().stop().animate({marginLeft:0,opacity:this.options.opacity},{duration:this.options.duration,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)})}else this.childMenu.stop().animate({display:"block",visibility:"visible"},{duration:0,easing:this.options.physics,queue:!1,complete:function(){this.showSubMenuComplete()}.bind(this)});this.childMenu.data("status","open")}},e.prototype.showSubMenuComplete=function(){if(this.options.olddirection.x&&(this.options.direction.x=this.options.olddirection.x),parseInt(this.childMenu[0].style.top)!=this.btn.offset().top&&this.btn.offset().top!=t("#"+this.options.id).offset().top&&0==parseInt(this.btn.css("marginTop"))&&0!=t("#"+this.options.id)[0].offsetTop)if("initial"==this.btn.data("subMenuType")){if("horizontal"==this.options.orientation)if(0==this.btn.is("li"))var e=this.btn.parentsUntil("li").eq(0).outerHeight();else var e=this.btn.outerHeight();else var e=this.btn.offset().top+this.btn.outerHeight();e-=this.subtractScrollTop(),t(this.childMenu).animate({top:e},this.options.duration,this.options.physics)}else{var i=this.btn.offset().top-this.subtractScrollTop();t(this.childMenu).animate({top:i},this.options.duration,this.options.physics)}},e.prototype.positionSubMenu=function(){this.childMenu.css("width",this.width);var e=this.childMenu.getFirst(),i=e.getFirst(),n=i.find("ul"),s=0;n.each(function(t,e){s+=e.offsetWidth}),this.childMenu.getFirst().css("width",s+1),this.childMenu.css("width",s+1),("s5_sub_wrap_rtl"==this.btn.parents("div").className||"s5_sub_wrap_lower_rtl"==this.btn.parents("div").className)&&(this.childMenu.className="s5_sub_wrap_lower_rtl"),"subsequent"===this.subMenuType&&(this.parentSubMenu&&this.options.direction.x!=this.parentSubMenu.options.direction.x&&"left"===this.parentSubMenu.options.direction.x&&this.options.effect&&this.options.effect.contains("slide")&&t(this.childMenu).getFirst().css({marginLeft:this.width}),this.options.direction.x=this.parentSubMenu.options.direction.x,this.options.direction.xInverse=this.parentSubMenu.options.direction.xInverse,this.options.direction.y=this.parentSubMenu.options.direction.y,this.options.direction.yInverse=this.parentSubMenu.options.direction.yInverse);var o,a;if("initial"==this.subMenuType){if("up"===this.options.direction.y){if("vertical"===this.options.orientation){if(0==this.btn.is("li"))var h=this.btn.parentsUntil("li").eq(0).outerHeight();else var h=this.btn.outerHeight();o=this.btn.offset().top-this.subtractScrollTop()+h-this.height+this.options.tweakInitial.y}else o=this.btn.offset().top-this.subtractScrollTop()-this.height+this.options.tweakInitial.y;this.childMenu[0].style.top=o+"px"}else if("horizontal"==this.options.orientation){if(0==this.btn.is("li"))var h=this.btn.parentsUntil("li").eq(0).outerHeight();else var h=this.btn.outerHeight();this.childMenu[0].style.top=this.btn.offset().top-this.subtractScrollTop()+h+this.options.tweakInitial.y+"px"}else"vertical"==this.options.orientation&&(o=this.btn.offset().top-this.subtractScrollTop()+this.options.tweakInitial.y,o+=this.btn.outerHeight(),this.childMenu[0].style.top=o+"px");if("horizontal"==this.options.orientation){var u=this.childMenu.outerWidth(),d=this.btn.offset().left;if(0==this.btn.is("li"))var r=this.btn.parentsUntil("li").eq(0).outerWidth();else var r=this.btn.outerWidth();var l=t(window).width();if("left"==this.options.direction.x)0>d-u?(this.btn.offset().left-u+r<0&&this.btn.offset().left+u>l?(this.childMenu[0].style.width=this.root.getWidth(),this.childMenu[0].style.cssFloat="auto"==this.childMenu[0].style.width?"left":"none",this.childMenu.children().each(function(e,i){t(i).css({"float":"none",width:"auto"}),t(i).children().each(function(e,i){t(i).children().each(function(e,i){t(i).css({"float":"none"})})})})):(this.childMenu[0].style.width=this.root.getWidth(),this.childMenu[0].style.cssFloat="auto"==this.childMenu[0].style.width?"left":"none",this.childMenu.css({clear:"none"}),this.childMenu.children().each(function(e,i){t(i).css({"float":"left",width:"auto",clear:"none"}).children().each(function(e,i){t(i).children().each(function(e,i){t(i).css({"float":"left",clear:"none"})})})})),u=t(this.childMenu).outerWidth(),this.btn.offset().left-u+r<20?(p=this.btn.offset().left,need=1,p-=24):(p=this.btn.offset().left-u+r,need=0),this.childMenu[0].style.left=p+"px",need?this.childMenu.className="s5_sub_wrap_rtl":this.childMenu.className="s5_sub_wrap"):(this.childMenu[0].style.width=this.root.getWidth(),this.childMenu[0].style.cssFloat="auto"==this.childMenu[0].style.width?"left":"none",this.childMenu.css({clear:"none"}),this.childMenu.children().each(function(e,i){t(i).css({width:"auto","float":"left",clear:"none"}).children().each(function(e,i){t(i).children().each(function(e,i){t(i).css({"float":"left",clear:"none"})})})}),this.childMenu[0].className="s5_sub_wrap",this.childMenu[0].style.marginLeft="5px",u=this.childMenu.outerWidth(),this.childMenu[0].style.left=this.btn.offset().left-u+r+"px");else if(u+d>l){if(this.btn.offset().left-u+r<0?(this.childMenu[0].style.width=this.root.getWidth(),this.childMenu[0].style.cssFloat="auto"==this.childMenu[0].style.width?"left":"none",this.childMenu.children().each(function(e,i){t(i).css({width:"auto","float":"none"}).children().each(function(e,i){t(i).children().each(function(e,i){t(i).css("float","none")})})}),this.childMenu.className="s5_sub_wrap_rtl"):(this.childMenu[0].style.width=this.root.getWidth(),this.childMenu[0].style.cssFloat="auto"==this.childMenu[0].style.width?"left":"none",this.childMenu.css({clear:"none"}),this.childMenu.children().each(function(e,i){t(i).css({"float":"left",width:"auto",clear:"none"}).children().each(function(e,i){t(i).children().each(function(e,i){t(i).css({"float":"left",clear:"none"})})})})),u=this.childMenu.width(),u+this.btn.offset().left<l-20)p=this.btn.offset().left;else{var p=this.btn.offset().left-u+r;0>p&&(p=this.btn.offset().left)}this.childMenu[0].style.left=p+"px",u+this.btn.offset().left<l?this.childMenu.className="s5_sub_wrap":this.childMenu.className="s5_sub_wrap_rtl"}else this.childMenu[0].style.width=this.root.getWidth(),this.childMenu[0].style.cssFloat="auto"==this.childMenu[0].style.width?"left":"none",this.childMenu.children().each(function(e,i){t(i).css({"float":"left",width:"auto",clear:"none"}).children().each(function(e,i){t(i).children().each(function(e,i){t(i).css({"float":"left",clear:"none"})})})}),this.childMenu.className="s5_sub_wrap",this.childMenu[0].style.left=this.btn.offset().left+this.options.tweakInitial.x+"px"}else if("left"==this.options.direction.x)this.childMenu[0].style.left=this.btn.offset().left-this.childMenu.width()+this.options.tweakInitial.x+"px";else if("right"==this.options.direction.x){if(0==this.btn.is("li"))var c=this.btn.parentsUntil("li").eq(0).outerWidth();else var c=this.btn.outerWidth();this.childMenu[0].style.left=this.btn.offset().left+c+this.options.tweakInitial.x+"px"}}else if("subsequent"==this.subMenuType){if("down"===this.options.direction.y)this.btn.offset().top+this.options.tweakSubsequent.y+this.childMenu.height()>=t(document.body).scrollTop()?(a=this.btn.offset().top-this.subtractScrollTop()+this.options.tweakSubsequent.y+this.childMenu.height(),this.childMenu[0].style.top=this.btn.offset().top-this.subtractScrollTop()+this.options.tweakSubsequent.y-a-20+"px"):this.childMenu[0].style.top=this.btn.offset().top-this.subtractScrollTop()+this.options.tweakSubsequent.y+"px";else if("up"===this.options.direction.y){if(0==this.btn.is("li"))var h=this.btn.parentsUntil("li").eq(0).outerHeight();else var h=this.btn.outerHeight();if(this.btn.offset().top+h-this.subtractScrollTop()-this.height+this.options.tweakSubsequent.y<1)this.options.direction.y="down",this.options.direction.yInverse="up",this.childMenu[0].style.top=this.btn.offset().top-this.subtractScrollTop()+this.options.tweakSubsequent.y+"px";else{if(0==this.btn.is("li"))var h=this.btn.parentsUntil("li").eq(0).outerHeight();else var h=this.btn.outerHeight();this.childMenu[0].style.top=this.btn.offset().top-this.subtractScrollTop()+h-this.height+this.options.tweakSubsequent.y+"px"}}if("left"==this.options.direction.x){if(this.childMenu[0].style.left=this.btn.offset().left-this.childMenu.width()+this.options.tweakSubsequent.x+"px",this.childMenu[0].style.top=this.btn.offset().top-this.subtractScrollTop()+this.options.tweakSubsequent.x+"px",this.childMenu.offset().left<20){if(this.options.olddirection.x=this.options.direction.x,this.options.direction.x="right",this.options.direction.xInverse="left",0==this.btn.is("li"))var c=this.btn.parentsUntil("li").eq(0).outerWidth();else var c=this.btn.outerWidth();this.childMenu[0].style.left=this.btn.offset().left+c+this.options.tweakSubsequent.x+"px",this.childMenu.className="s5_sub_wrap_lower_rtl",("slide"===this.options.effect||"slide & fade"===this.options.effect)&&t(this.childMenu).getFirst().css({marginLeft:-this.width,opacity:this.options.opacity})}}else if("right"==this.options.direction.x){if(0==this.btn.is("li"))var c=this.btn.parentsUntil("li").eq(0).outerWidth();else var c=this.btn.outerWidth();this.childMenu[0].style.top=this.btn.offset().top-this.subtractScrollTop()+this.options.tweakSubsequent.x+"px",this.childMenu[0].style.left=this.btn.offset().left+c+this.options.tweakSubsequent.x+"px";var f=this.childMenu.offset().left+this.childMenu.width(),m=t(window).width()+t(window).scrollLeft()-20;if(f>m){this.options.olddirection.x=this.options.direction.x,this.options.direction.x="left",this.options.direction.xInverse="right";var u=this.childMenu.outerWidth(),d=this.btn.offset().left,l=t(window).width();l>=2*u+d?this.childMenu[0].style.right=this.btn.offset().left+this.options.tweakSubsequent.x+"px":(this.childMenu[0].style.left=this.btn.offset().left-this.childMenu.width()+this.options.tweakSubsequent.x+"px",this.childMenu.className="s5_sub_wrap_lower_rtl"),("slide"===this.options.effect||"slide & fade"===this.options.effect)&&t(this.childMenu).getFirst().css({marginLeft:this.width,opacity:this.options.opacity})}}}},e.prototype.subtractScrollTop=function(){return t("#"+this.options.id).offset().top!=t("#"+this.options.id).position().top?t(window).scrollTop():0},e.prototype.initialize=function(e,i,n,s){if(this.options=t.extend(e,this.options),this.root=i,this.btn=n,this.childMenu=t(this.btn).data("childMenu"),this.childMenu){this.subMenuType=this.btn.data("subMenuType"),this.parentSubMenus=t(this.btn.data("parentSubMenus")),this.parentLinks=this.btn.data("parentLinks"),this.parentSubMenus?this.parentSubMenu=t(this.parentSubMenus[0]):this.parentSubMenu=null,this.parentSubMenu&&(this.parentSubMenu=this.parentSubMenu.data("class")),this.childMenu.data("class",this),this.btn.data("class",this),this.childMenu.data("status","closed"),this.childMenu.bind("hidex",function(){this.hideSubMenu()}.bind(this)),this.childMenu.bind("show",function(){this.showSubMenu()}.bind(this)),this.options.effect,"slide"===this.options.effect||"slide & fade"===this.options.effect?"initial"==this.subMenuType&&"horizontal"===this.options.orientation?this.childMenu.getFirst().css("marginTop","0"):this.childMenu.getFirst().css("marginLeft","0"):("fade"===this.options.effect||"slide & fade"===this.options.effect)&&this.childMenu.getFirst().css("opacity",0),"fade"!=this.options.effect&&"slide & fade"!=this.options.effect&&this.childMenu.getFirst().css("opacity",this.options.opacity),this.childMenu.getFirst().css("float","left");var o=t("#li_child_"+s+" ul");o.each(function(e,i){var n=t("li",t(i)).filter(function(e,i){return!t(i).data("childMenu")});n.each(function(e,i){t(i).addClass("subMenuBtn"),t(i).bind("mouseenter",function(t){this.childMenu.trigger("show"),this.cancellHideAllSubMenus(),this.hideOtherSubMenus()}.bind(this)),t(i).data("mouseenterH",function(t){this.childMenu.trigger("show"),this.cancellHideAllSubMenus(),this.hideOtherSubMenus()}.bind(this)),t(i).bind("focus",function(t){this.childMenu.trigger("show"),this.cancellHideAllSubMenus(),this.hideOtherSubMenus()}.bind(this)),t(i).bind("mouseleave",function(t){this.cancellHideAllSubMenus()}.bind(this)),t(i).data("mouseleaveH",function(t){this.cancellHideAllSubMenus(),this.hideAllSubMenus()}.bind(this)),t(i).bind("blur",function(t){this.cancellHideAllSubMenus(),this.hideAllSubMenus()}.bind(this)),t(i).bind("keydown",function(e){new Event(e);("up"===e.key||"down"===e.key||"left"===e.key||"right"===e.key||"tab"===e.key)&&e.stop(),"up"===e.key?t(i).parents("li").getPrevious("li")?t(i).parents("li").getPrevious("li").getFirst("a").focus():"down"===this.options.direction.y?this.btn.focus():"up"===this.options.direction.y&&t(i).parents("li").parent().getLast("li").getFirst("a").focus():"down"===e.key?t(i).parents("li").getNext("li")?t(i).parents("li").getNext("li").getFirst("a").focus():"down"===this.options.direction.y?t(i).parents("li").parent().getFirst("li").getFirst("a").focus():"up"===this.options.direction.y&&this.btn.focus():e.key===this.options.direction.xInverse&&this.btn.focus()}.bind(this))}.bind(this))}.bind(this)),this.btn.removeClass("subMenuBtn"),"initial"==this.subMenuType?this.btn.addClass("mainParentBtn"):this.btn.addClass("subParentBtn"),this.btn.bind("mouseenter",function(e){e.preventDefault(),this.cancellHideAllSubMenus(),this.hideOtherSubMenus(),setTimeout(function(){this.showSubMenu()}.bind(this),10),"initial"===this.subMenuType&&this.options.mmbClassName&&this.options.mmbFocusedClassName&&(t(this.btn).data("btnMorph")?t(this.btn).data("btnMorph"):this.btn.switchClass(this.options.mmbFocusedClassName,"",this.options.duration/2,this.options.physics))}.bind(this)).data("mouseenterH",function(e){e.preventDefault(),this.cancellHideAllSubMenus(),this.hideOtherSubMenus(),setTimeout(function(){this.showSubMenu()}.bind(this),10),"initial"===this.subMenuType&&this.options.mmbClassName&&this.options.mmbFocusedClassName&&(t(this.btn).data("btnMorph")?t(this.btn).data("btnMorph"):this.btn.switchClass(this.options.mmbFocusedClassName,"",this.options.duration/2,this.options.physics))}.bind(this)),this.btn.bind("focus",function(e){e.preventDefault(),this.cancellHideAllSubMenus(),this.hideOtherSubMenus(),this.showSubMenu(),"initial"===this.subMenuType&&this.options.mmbClassName&&this.options.mmbFocusedClassName&&(t(this.btn).data("btnMorph")?t(this.btn).data("btnMorph"):this.btn.switchClass(this.options.mmbFocusedClassName,"",this.options.duration/2,this.options.physics))}.bind(this)),this.btn.data("childMenu").bind("mouseleave",function(t){t.preventDefault(),this.cancellHideAllSubMenus(),this.hideAllSubMenus()}.bind(this)).data("mouseleaveHander",function(t){t.preventDefault(),this.cancellHideAllSubMenus(),this.hideAllSubMenus()}.bind(this)),this.btn.bind("mouseleave",function(t){t.preventDefault(),this.cancellHideAllSubMenus(),this.hideAllSubMenus()}.bind(this)).data("mouseleaveHander",function(t){t.preventDefault(),this.cancellHideAllSubMenus(),this.hideAllSubMenus()}.bind(this)),this.btn.bind("blur",function(t){t.preventDefault(),this.cancellHideAllSubMenus(),this.hideAllSubMenus()}.bind(this)),this.btn.bind("keydown",function(t){t=new Event(t),("up"===t.key||"down"===t.key||"left"===t.key||"right"===t.key)&&t.stop(),this.parentSubMenu?("tab"===t.key&&t.stop(),"up"===t.key?this.btn.parents("li").getPrevious("li")?this.btn.parents("li").getPrevious("li").getFirst("a").focus():"down"===this.options.direction.y?this.parentSubMenu.btn.focus():"up"===this.options.direction.y&&this.btn.parents("li").parent().getLast("li").getFirst("a").focus():"down"===t.key?this.btn.parents("li").getNext("li")?this.btn.parents("li").getNext("li").getFirst("a").focus():"down"===this.options.direction.y?this.btn.parents("li").parent().getFirst("li").getFirst("a").focus():"up"===this.options.direction.y&&this.parentSubMenu.btn.focus():t.key===this.options.direction.xInverse?this.parentSubMenu.btn.focus():t.key===this.options.direction.x&&("down"===this.options.direction.y?this.childMenu.getFirst().getFirst("li").getFirst("a").focus():"up"===this.options.direction.y)):"horizontal"===this.options.orientation&&t.key===this.options.direction.y||"vertical"===this.options.orientation&&t.key===this.options.direction.x?"down"===this.options.direction.y?this.childMenu.getFirst().getFirst("li").getFirst("a").focus():"up"===this.options.direction.y&&this.childMenu.getFirst().getLast("li").getFirst("a").focus():"horizontal"===this.options.orientation&&"left"===t.key||"vertical"===this.options.orientation&&t.key===this.options.direction.yInverse?this.btn.parent().getPrevious()?this.btn.parent().getPrevious().getFirst().focus():this.btn.parent().parent().getLast().getFirst().focus():("horizontal"===this.options.orientation&&"right"===t.key||"vertical"===this.options.orientation&&t.key===this.options.direction.y)&&(this.btn.parent().getNext()?this.btn.parent().getNext().getFirst().focus():this.btn.parent().parent().getFirst().getFirst().focus())}.bind(this))}}}(jQuery),window.onload=s5_create_separator_class;